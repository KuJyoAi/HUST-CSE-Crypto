# 无线网络和移动网络

## 7.1 概述

### 无线网络中的元素

- 无线主机

	- 可以是便携机, PDA, IP 电话；
	- 能运行程序；
	- 本身既可能是固定，也可能是移动的.

- 无线链路

	- 典型的作用是用于连接无线主机和基站;
	- 也可以用于骨干链路:就是基站与边缘路由器相连的链路

- 基站

	- 典型的作用是用于连接无线网络;
	- 负责向其覆盖范围内的主机发送和接收分组，在无线网络和无线主机之间起链路层中继作用。如：蜂窝塔、802.11 接入点 

		- 基站向基站覆盖范围内的主机提供类似于链路层中继作用的通信服务

	- 无线主机连入基站,然后基站与更宽广的网络进行连接.主机->基站->局域网->因特网(宽广的网络)

### 两种模式

- 基础设施模式

	- 基础设施模式是指预先建立起来的、能够覆盖一定地理范围的一批固定基站。
	- 移动主机通过基站接入有线网络; 
	- 切换:移动主机的移动可能会改变与之相关联的基站。
	- 关联

		- 无线主机位于某个基站的无线通信覆盖范围内
		- 该主机使用该基站中继它与更大网络之间的数据

	- 切换

		- 当一台移动主机移动范围超出一个基站的覆盖范围而到达另一个基站的覆盖范围后，它将改变其接入更大网络的连接点

- Ad hoc

	- 无基站；
	- 节点(移动主机)仅仅能够在其覆盖范围内向其他节点传送数据；
	- 节点之间相互通信组成的临时网络:在它们内部进行选路和地址分配。
	- 节点和节点之间传输数据,热点

## 7.2 无线链路特征

### 递减的信号强度

- SNR 信噪比
- BER 比特差错率
- 隐藏终端

### 来自其他源的干扰

### 多径传播

### CDMA

- 每个用户都被指派一个m位长的码片序列
- 用户发送1的时候就发送原来的码片,如果发送0的化就是反码
- 习惯上，将码片序列中的“0”写成“-1”，“1”写成“+1”
- 任何两个站点的码片向量规格化内积为0,就是每个维度的值互相乘然后加起来的值为0
- 自己和自己相乘为1,自己和自己的反码
- 基站假如想获得来自于S的信号,就应该是(Sx+Tx)*S(S为码片向量)

## 7.3 802.11无线LAN

### 所有的无线终端通过基站AP通信

### 802.11b的信道划分

- 2.4GHz—2.485GHz，共85MHz
- 划分出11个信道
- 1,6,11是无重叠的,其他的都是有重叠

### 主机关联基站的过程

- 每个AP周期性发送信标帧，包括AP的SSID和MAC
- 主机对11个信道进行扫描，获取所有可用的AP的信标帧
- 主机选择其中一个AP进行关联，加入其所属子网
- 主机向关联AP发送DHCP发现报文，获取IP地址
- 可能需要身份鉴别

### CSMA/CA

- 发送方工作流程

	- 如果侦听到信道闲置了DIFS 秒,发送方在发送数据帧之前首先使用 CSMA协议发送一个短的请求发送RTS( request-to-send)帧给AP：

		- RTS会被所有节点侦测到

			- 发送方发送
			- 其他站点让开

	- AP过SIFS后广播一个CTS给RTS,CTS是被广播的
	- 如果侦听到信道忙，则选择一个随机避退值作为定时器的定时时间，并在侦听信道闲置时递减该值。

		- 定时时间一到且信道空闲就发送数据

	- 过了SIFS秒后,主机开始发送数据
	- 如果收到确认，且站点要继续发送数据,过CSMA的定时器时间之后继续发送
	- 如果没有收到确认（ ACK）,则在更大范围内选取随机值作为定时器,过定时器时间后发送

- 接收方工作流程

	- 如果帧收到则OK，等待 SIFS秒后返回ACK (ACK是必须的因为隐蔽站问题) 

### 802.11 Mac帧格式

- 地址1: 无线主机或 AP 接收该帧的MAC地址
- 地址2:无线主机或 AP 发送该帧的MAC地址
- 地址3: 与AP连接的路由器接口的MAC地址,注意,与AP连接的路由器,也就是边缘路由器的地址

## 7.5 移动管理不考

*XMind - Trial Version*